"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[684],{6104:function(r,n,e){e.d(n,{s:function(){return o}});var t=e(3418),s=e(2791),i=e(7689),c=e(583),u=e(7705),a=e(3035),d=e(184),o=function(){var r=function(){var r=(0,s.useContext)(c.S).removeCurrentUser,n=(0,i.s0)();return(0,t.D)(u.kS,{onSuccess:function(){r(),n("/")}})}(),n=r.mutate,e=r.isLoading,o=r.isError,l=r.error;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.dO,{onClick:function(){n()},children:"Logout"}),e&&(0,d.jsx)("div",{children:"Loading..."}),o&&(0,d.jsx)("div",{children:l.message})]})}},8684:function(r,n,e){e.r(n),e.d(n,{default:function(){return j}});var t=e(7689),s=e(4170),i=e(5227),c=e(583),u=e(2791),a=e(6104),d=e(4974),o=e(184),l=function(r){var n=r.userData;return(0,o.jsxs)(d.iA,{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)(d.nL,{children:[(0,o.jsx)(d.dt,{children:"User details"}),(0,o.jsx)(d.dt,{})]})}),(0,o.jsxs)("tbody",{children:[(0,o.jsxs)(d.KA,{children:[(0,o.jsx)(d.Kj,{children:"First name"}),(0,o.jsx)(d.Kj,{children:n.firstname})]}),(0,o.jsxs)(d.KA,{children:[(0,o.jsx)(d.Kj,{children:"Last name"}),(0,o.jsx)(d.Kj,{children:n.lastname})]}),(0,o.jsxs)(d.KA,{children:[(0,o.jsx)(d.Kj,{children:"Email"}),(0,o.jsx)(d.Kj,{children:n.email})]}),(0,o.jsxs)(d.KA,{children:[(0,o.jsx)(d.Kj,{children:"Role"}),(0,o.jsx)(d.Kj,{children:n.role})]})]})]})},h=function(r){var n=r.ordersData;return(0,o.jsx)(o.Fragment,{children:n.map((function(r){return(0,o.jsxs)(d.iA,{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)(d.nL,{children:[(0,o.jsx)(d.dt,{children:(0,o.jsxs)("b",{children:["#",r[0].order_id]})}),(0,o.jsx)(d.dt,{children:"Product id"}),(0,o.jsx)(d.dt,{children:"Product name"}),(0,o.jsx)(d.dt,{children:"Quantity ordered"}),(0,o.jsx)(d.dt,{children:"Product total"})]})}),(0,o.jsxs)("tbody",{children:[r.map((function(r){return(0,o.jsxs)(d.KA,{children:[(0,o.jsx)(d.Kj,{}),(0,o.jsx)(d.Kj,{children:r.product_id}),(0,o.jsx)(d.Kj,{children:r.product_name}),(0,o.jsx)(d.Kj,{children:r.product_qty}),(0,o.jsxs)(d.Kj,{children:["$",r.product_price*r.product_qty]})]},r.product_id)})),(0,o.jsxs)(d.Th,{children:[(0,o.jsx)(d.Kj,{}),(0,o.jsx)(d.Kj,{children:"Status:"}),(0,o.jsx)(d.Kj,{children:r[0].status}),(0,o.jsx)(d.Kj,{children:"Total:"}),(0,o.jsxs)(d.Kj,{children:["$",r[0].total]})]})]})]},r[0].order_id)}))})};var j=function(){var r=(0,t.UO)().id,n=(0,u.useContext)(c.S).user,e=(0,s.P)(r),d=e.data,j=e.isLoading,x=e.isError,f=e.error,p=(0,i.n)(r),v=p.data,m=p.isLoading,K=p.isError,Z=p.error;return!n||n.id!==parseInt(r)&&"admin"!==n.role?(0,o.jsx)("div",{children:"401 Authorization denied"}):j||m?(0,o.jsx)("div",{children:"Loading..."}):x||K?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:null===f||void 0===f?void 0:f.message}),(0,o.jsx)("div",{children:null===Z||void 0===Z?void 0:Z.message})]}):(0,o.jsxs)("section",{className:"m-4 flex flex-wrap gap-8",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:"User"}),(0,o.jsxs)("div",{children:[d&&(0,o.jsx)(l,{userData:d}),n.id===parseInt(r)&&(0,o.jsx)(a.s,{})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:"Orders"}),(0,o.jsx)("div",{children:v&&(0,o.jsx)(h,{ordersData:v})})]})]})}},3315:function(r,n,e){e.d(n,{LV:function(){return u},uI:function(){return c}});var t=e(4165),s=e(5861),i=e(3263).Z.create({baseURL:"http://localhost:3000"}),c=function(){var r=(0,s.Z)((0,t.Z)().mark((function r(n){var e;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.get("/api/orders/userorders/".concat(n));case 2:return e=r.sent,r.abrupt("return",e.data);case 4:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}(),u=function(){var r=(0,s.Z)((0,t.Z)().mark((function r(n){var e,s,c,u;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.id,s=n.cart,c=n.total,r.next=3,i.post("/api/orders/".concat(e),{cart:s,total:c});case 3:return u=r.sent,r.abrupt("return",u);case 5:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()},5227:function(r,n,e){e.d(n,{n:function(){return i}});var t=e(2917),s=e(3315),i=function(r){return(0,t.a)({queryKey:["user-orders",r],queryFn:function(){return(0,s.uI)(r)},enabled:!!r})}},6435:function(r,n,e){e.d(n,{GA:function(){return c},Nq:function(){return a},h8:function(){return d},qz:function(){return o},r4:function(){return u}});var t=e(4165),s=e(5861),i=e(3263).Z.create({baseURL:"http://localhost:3000"}),c=function(){var r=(0,s.Z)((0,t.Z)().mark((function r(n){var e;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.get("/api/users/".concat(n));case 2:return e=r.sent,r.abrupt("return",e.data);case 4:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}(),u=function(){var r=(0,s.Z)((0,t.Z)().mark((function r(n){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.post("/api/users",n);case 2:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}(),a=function(){var r=(0,s.Z)((0,t.Z)().mark((function r(n){var e;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.id,r.next=3,i.put("/api/users/".concat(e),n);case 3:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}(),d=function(){var r=(0,s.Z)((0,t.Z)().mark((function r(n){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.delete("/api/users/".concat(n));case 2:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}(),o=function(){var r=(0,s.Z)((0,t.Z)().mark((function r(n){var e;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.get("/api/users/search/".concat(n));case 2:return e=r.sent,r.abrupt("return",e.data);case 4:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()},4170:function(r,n,e){e.d(n,{P:function(){return i}});var t=e(2917),s=e(6435),i=function(r){return(0,t.a)({queryKey:["user-by-id",r],queryFn:function(){return(0,s.GA)(r)},enabled:!!r})}}}]);
//# sourceMappingURL=684.4f69443e.chunk.js.map