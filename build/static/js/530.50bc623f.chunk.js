"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[530],{8530:function(e,n,r){r.r(n),r.d(n,{default:function(){return S}});var t=r(2791),i=r(1413),o=r(1134),s=r(8304),a=r(3418),c=r(7705),d=r(583),u=r(7689),l=r(184),f=function(){var e,n,r=(0,o.cI)(),f=r.register,h=r.handleSubmit,g=r.formState.errors,p=function(){var e=(0,t.useContext)(d.S).setCurrentUser,n=(0,u.s0)();return(0,a.D)(c.x4,{onSuccess:function(r){e(r),n("/")}})}(),v=p.mutate,m=p.isLoading,x=p.isSuccess,w=p.isError,j=p.error;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.l0,{onSubmit:h((function(e){return function(e){v(e)}(e)})),children:[(0,l.jsx)(s.II,(0,i.Z)((0,i.Z)({},f("email",{required:"Required"})),{},{placeholder:"Email"})),(0,l.jsx)(s.Xq,{children:null===(e=g.email)||void 0===e?void 0:e.message}),(0,l.jsx)(s.II,(0,i.Z)((0,i.Z)({},f("password",{required:"Required"})),{},{placeholder:"Password",type:"password"})),(0,l.jsx)(s.Xq,{children:null===(n=g.password)||void 0===n?void 0:n.message}),(0,l.jsx)(s.z0,{type:"submit",value:"Log in"})]}),m&&(0,l.jsx)("div",{children:"Loading..."}),w&&(0,l.jsxs)("div",{children:[j.message," ",j.response.data]}),x&&(0,l.jsx)("div",{children:"Logged In"})]})},h=r(6104),g=r(4165),p=r(5861);function v(e){this.message=e}v.prototype=new Error,v.prototype.name="InvalidCharacterError";var m="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var n=String(e).replace(/=+$/,"");if(n.length%4==1)throw new v("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,t,i=0,o=0,s="";t=n.charAt(o++);~t&&(r=i%4?64*r+t:t,i++%4)?s+=String.fromCharCode(255&r>>(-2*i&6)):0)t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t);return s};function x(e){var n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(m(e).replace(/(.)/g,(function(e,n){var r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(n)}catch(e){return m(n)}}function w(e){this.message=e}w.prototype=new Error,w.prototype.name="InvalidTokenError";var j,Z=function(e,n){if("string"!=typeof e)throw new w("Invalid token specified");var r=!0===(n=n||{}).header?0:1;try{return JSON.parse(x(e.split(".")[r]))}catch(e){throw new w("Invalid token specified: "+e.message)}},b=function(){var e=function(){var e=(0,t.useContext)(d.S).setCurrentUser,n=(0,u.s0)();return(0,a.D)(c.u9,{onSuccess:function(r){e(r),n("/")}})}(),n=e.mutate,r=e.isLoading,i=e.isSuccess,o=e.isError,s=e.error,f=function(){var e=(0,p.Z)((0,g.Z)().mark((function e(r){var t,i;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Z(r.credential),0!==Object.keys(t).length&&(i={firstname:t.given_name,lastname:t.family_name,email:t.email,password:null},n(i));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){google.accounts.id.initialize({client_id:"223953263469-tn1aj7aac1rdqt022i3s4tt6823cfi3q.apps.googleusercontent.com",callback:f}),google.accounts.id.renderButton(document.getElementById("signInDiv"),{theme:"outline",size:"large"})}),[]),r?(0,l.jsx)("div",{children:"Loading..."}):o?(0,l.jsx)("div",{children:s.message}):i?(0,l.jsx)("div",{children:"Logged In"}):(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)("div",{className:"my-4",id:"signInDiv"})})},y=r(168),k=r(4238).Z.div(j||(j=(0,y.Z)(["\n    border-4\n    border-primary-darkgreen\n    p-4\n    my-2\n    w-1/4\n    min-w-[350px]\n    max-w-[496px]\n    bg-primary-darkbeige\n"]))),I=r(1087),S=function(){var e=(0,t.useContext)(d.S).user;return(0,l.jsx)("section",{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{children:e?"Logout":"Login"}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsxs)(k,{children:[e?(0,l.jsx)(h.s,{}):(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{}),(0,l.jsx)(b,{})]}),(0,l.jsx)(I.rU,{to:"/createaccount",children:(0,l.jsx)("div",{children:"New user?"})})]})})]})})}},6104:function(e,n,r){r.d(n,{s:function(){return u}});var t=r(3418),i=r(2791),o=r(7689),s=r(583),a=r(7705),c=r(3035),d=r(184),u=function(){var e=function(){var e=(0,i.useContext)(s.S).removeCurrentUser,n=(0,o.s0)();return(0,t.D)(a.kS,{onSuccess:function(){e(),n("/")}})}(),n=e.mutate,r=e.isLoading,u=e.isError,l=e.error;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.dO,{onClick:function(){n()},children:"Logout"}),r&&(0,d.jsx)("div",{children:"Loading..."}),u&&(0,d.jsx)("div",{children:l.message})]})}},8304:function(e,n,r){r.d(n,{II:function(){return p},Ph:function(){return m},Xq:function(){return w},Yb:function(){return h},gx:function(){return v},l0:function(){return g},z0:function(){return x}});var t,i,o,s,a,c,d,u,l=r(168),f=r(4238),h=f.Z.div(t||(t=(0,l.Z)(["\n    w-full\n    p-4\n    text-center\n"]))),g=f.Z.form(i||(i=(0,l.Z)(["\n    w-full\n    flex\n    flex-col\n    items-center\n    gap-2\n"]))),p=(f.Z.form(o||(o=(0,l.Z)(["\n    w-full\n    flex\n    flex-col\n    items-center\n"]))),f.Z.input(s||(s=(0,l.Z)(["\n    w-4/5\n    rounded\n    hover:shadow-lg\n    placeholder: pl-1\n"])))),v=f.Z.textarea(a||(a=(0,l.Z)(["\n    w-4/5\n    rounded\n    hover:shadow-lg\n    placeholder: pl-1\n"]))),m=f.Z.select(c||(c=(0,l.Z)(["\n    w-4/5\n    rounded\n    hover:shadow-lg\n    placeholder: pl-1\n"]))),x=f.Z.input(d||(d=(0,l.Z)(["\n    min-w-[100px]\n    p-2\n    rounded\n    shadow\n    bg-primary-darkgreen\n    text-white\n    hover:scale-110 hover:transition duration-300 cursor-pointer\n"]))),w=f.Z.p(u||(u=(0,l.Z)(["\n    text-sm\n    text-red-700\n"])))}}]);
//# sourceMappingURL=530.50bc623f.chunk.js.map